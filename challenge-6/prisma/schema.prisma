datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}
generator client  {
 provider = "prisma-client-js"
}

model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  forms     Form[]  @relation("my forms")
  answers   Response[] @relation("my answers")
}
model Form {
  id          Int      @id @default(autoincrement())
  title       String
  userId      Int
  user        User?    @relation("my forms", fields: [userId], references: [id])
  questions   Question[]   @relation("my questions")
  responses Response[] @relation("form")
}

model Question {
  id           Int      @id @default(autoincrement())
  formId       Int
  form         Form?    @relation("my questions", fields: [formId], references: [id])
  type         QuestionType
  text         String
  options       Json?
  correctAnswer String
  
}
model Response {
  id           Int      @id @default(autoincrement()) // Use cuid for better ID generation
  user          User?   @relation("my answers", fields: [userId],references: [id]) 
   userId       Int
  form         Form?    @relation("form", fields: [formId], references: [id]) 
  formId        Int @unique
  answer       Json
}



enum QuestionType {
  TEXT
  SINGLE_CHOICE
  MULTI_CHOICE
}
